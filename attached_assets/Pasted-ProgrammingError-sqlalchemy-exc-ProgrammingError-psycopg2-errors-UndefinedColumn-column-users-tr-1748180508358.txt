ProgrammingError

sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column users.trial_start_date does not exist
LINE 1: ...email_notifications AS users_email_notifications, users.tria...
                                                             ^

[SQL: SELECT users.id AS users_id, users.email AS users_email, users.first_name AS users_first_name, users.last_name AS users_last_name, users.profile_image_url AS users_profile_image_url, users.amazon_affiliate_id AS users_amazon_affiliate_id, users.affiliate_link_base AS users_affiliate_link_base, users.discord_webhook_url AS users_discord_webhook_url, users.telegram_bot_token AS users_telegram_bot_token, users.telegram_chat_id AS users_telegram_chat_id, users.slack_bot_token AS users_slack_bot_token, users.slack_channel_id AS users_slack_channel_id, users.sendgrid_api_key AS users_sendgrid_api_key, users.email_from AS users_email_from, users.email_to AS users_email_to, users.auto_post_enabled AS users_auto_post_enabled, users.post_frequency_hours AS users_post_frequency_hours, users.is_admin AS users_is_admin, users.subscription_tier AS users_subscription_tier, users.email_notifications AS users_email_notifications, users.trial_start_date AS users_trial_start_date, users.trial_end_date AS users_trial_end_date, users.trial_tier AS users_trial_tier, users.is_trial_active AS users_is_trial_active, users.premium_trial_used AS users_premium_trial_used, users.pro_trial_used AS users_pro_trial_used, users.contest_winner AS users_contest_winner, users.subscription_start_date AS users_subscription_start_date, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(pk_1)s]
[parameters: {'pk_1': 'demo-user'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
Traceback (most recent call last)

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context

    self.dialect.do_execute(
    ^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute

    cursor.execute(statement, parameters)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    The above exception was the direct cause of the following exception:
    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask/app.py", line 1536, in __call__

    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/werkzeug/middleware/proxy_fix.py", line 183, in __call__

    return self.app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask/app.py", line 1514, in wsgi_app

    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask/app.py", line 1511, in wsgi_app

    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask/app.py", line 919, in full_dispatch_request

    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask/app.py", line 917, in full_dispatch_request

    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask/app.py", line 902, in dispatch_request

    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/render_routes.py", line 50, in index

    return render_template('landing_page.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask/templating.py", line 150, in render_template

    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask/templating.py", line 127, in _render

    app.update_template_context(context)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask/app.py", line 530, in update_template_context

    context.update(self.ensure_sync(func)())
                   ^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask_login/utils.py", line 405, in _user_context_processor

    return dict(current_user=_get_user())
                             ^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask_login/utils.py", line 370, in _get_user

    current_app.login_manager._load_user()
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/flask_login/login_manager.py", line 364, in _load_user

    user = self._user_callback(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/simple_auth.py", line 18, in load_user

    return User.query.get(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^

    File "<string>", line 2, in get
    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/util/deprecations.py", line 386, in warned

    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 1126, in get

    return self._get_impl(ident, loading.load_on_pk_identity)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 1135, in _get_impl

    return self.session._get_impl(
           

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 3873, in _get_impl

    return db_load_fn(
           

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/orm/loading.py", line 694, in load_on_pk_identity

    session.execute(
    ^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute

    return self._execute_internal(
           

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal

    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement

    result = conn.execute(
             

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1415, in execute

    return meth(
           

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection

    return connection._execute_clauseelement(
           

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement

    ret = self._execute_context(
          

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context

    return self._exec_single_context(
           

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context

    self._handle_dbapi_exception(
    ^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception

    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context

    self.dialect.do_execute(
    ^

    File "/opt/render/project/src/.venv/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute

    cursor.execute(statement, parameters)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

    sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column users.trial_start_date does not exist
    LINE 1: ...email_notifications AS users_email_notifications, users.tria...
                                                                 ^

    [SQL: SELECT users.id AS users_id, users.email AS users_email, users.first_name AS users_first_name, users.last_name AS users_last_name, users.profile_image_url AS users_profile_image_url, users.amazon_affiliate_id AS users_amazon_affiliate_id, users.affiliate_link_base AS users_affiliate_link_base, users.discord_webhook_url AS users_discord_webhook_url, users.telegram_bot_token AS users_telegram_bot_token, users.telegram_chat_id AS users_telegram_chat_id, users.slack_bot_token AS users_slack_bot_token, users.slack_channel_id AS users_slack_channel_id, users.sendgrid_api_key AS users_sendgrid_api_key, users.email_from AS users_email_from, users.email_to AS users_email_to, users.auto_post_enabled AS users_auto_post_enabled, users.post_frequency_hours AS users_post_frequency_hours, users.is_admin AS users_is_admin, users.subscription_tier AS users_subscription_tier, users.email_notifications AS users_email_notifications, users.trial_start_date AS users_trial_start_date, users.trial_end_date AS users_trial_end_date, users.trial_tier AS users_trial_tier, users.is_trial_active AS users_is_trial_active, users.premium_trial_used AS users_premium_trial_used, users.pro_trial_used AS users_pro_trial_used, users.contest_winner AS users_contest_winner, users.subscription_start_date AS users_subscription_start_date, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
    FROM users 
    WHERE users.id = %(pk_1)s]
    [parameters: {'pk_1': 'demo-user'}]
    (Background on this error at: https://sqlalche.me/e/20/f405)

The debugger caught an exception in your WSGI application. You can now look at the traceback which led to the error.

To switch between the interactive traceback and the plaintext one, you can click on the "Traceback" headline. From the text traceback you can also create a paste of it.
